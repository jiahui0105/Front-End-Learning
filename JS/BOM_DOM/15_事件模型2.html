<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="div1">
    <ul id="ul1">
        <li>1111</li>
        <li>2222</li>
        <li>3333</li>
    </ul>
</div>


<button id="add">add</button>
<script>
    var aLi = document.getElementsByTagName('li');
    var oBtn = document.getElementById('add');
    var oUl = document.getElementById('ul1');

    //事件委托   或者  事件代理：把子元素的事件委托给父元素
    // 优点1：定义函数只定义一次 然而for循环会执行多次 浪费空间
    oUl.onclick = function(e){
        // e.target获取真正点击触发的事件源 e.currentTarget当前事件绑在Ul上 则捕获Ul
        console.log(e.target.innerHTML);
        // console.log(e.currentTarget.innerHTML);
        // e.stopPropagation();
    }
    //        for(var i=0;i<aLi.length;i++){
    //            aLi[i].onclick = function(){
    //                console.log(this.innerHTML);
    //            }
    //        }

    // 优点2：有效解决后生成元素绑不上事件问题
    oBtn.onclick = function(){
        var oLi = document.createElement('li');
        oLi.innerHTML = Math.random();
        oUl.appendChild(oLi);
    }

</script>
</body>
</html>